<!DOCTYPE html>
<html lang="zh-CN">
<meta http-equiv=Content-Type content=text/html;charset=gb2312>
<title>jQuery带背景切换登录注册表单 - 站长素材</title>

<link rel="stylesheet" href="css/style.css">

<body>

<div class="login-container">
	<h1>jQuery带背景切换登录注册表单</h1>
	
	<div class="connect">
		<p>sc.chinaz.com</p>
	</div>
	
	<form action="" method="post" id="loginForm">
		<div>
			<input type="text" id="username" name="username" class="username" placeholder="用户名" autocomplete="off"/>
		</div>
		<div>
			<input type="password" id="password" name="password" class="password" placeholder="密码" oncontextmenu="return false" onpaste="return false" />
		</div>
		<button id="submit" type="button">登 陆</button>
	</form>

	<a href="register.html">
		<button type="button" class="register-tis">还有没有账号？</button>
	</a>

</div>

<script src="js/jquery.min.js"></script>
<script src="js/common.js"></script>
<!--背景图片自动更换-->
<script src="js/supersized.3.2.7.min.js"></script>
<script src="js/supersized-init.js"></script>
<!--表单验证-->
<script src="js/jquery.validate.min.js?var1.14.0"></script>
<script>
	$(function() { //启动
		$("#submit").click(function() {
			//alert($("#username").val());
			var uname = $("#username").val();
			var upwd = $("#password").val();
			$.ajax({
				type : "post",
				url : "loginServlet", // 这里是提交到什么地方的url
				data : {
					"uname" : uname,
					"upwd" : upwd
				}, // 这里把表单里面的数据放在这里传到后台
				//dataType : "json",
				success : function(data) {
					var str=data.msg;
					if(str==null){
						alert("用户名或密码错误！")
					}else{
					//var str = JSON.stringify(data);
					// 调用回调函数
					alert("登陆成功！")
					window.location.href="index.html"}
				},dataType:"json"
			});
		});
	});
</script>
</body>
</html>